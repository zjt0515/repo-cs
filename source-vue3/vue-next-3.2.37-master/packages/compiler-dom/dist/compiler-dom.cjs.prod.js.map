{"version":3,"file":"compiler-dom.cjs.prod.js","sources":["../src/runtimeHelpers.ts","../src/decodeHtml.ts","../src/parserOptions.ts","../src/transforms/transformStyle.ts","../src/errors.ts","../src/transforms/vHtml.ts","../src/transforms/vText.ts","../src/transforms/vModel.ts","../src/transforms/vOn.ts","../src/transforms/vShow.ts","../src/transforms/stringifyStatic.ts","../src/transforms/ignoreSideEffectTags.ts","../src/index.ts"],"sourcesContent":["import { registerRuntimeHelpers } from '@vue/compiler-core'\n\nexport const V_MODEL_RADIO = Symbol(__DEV__ ? `vModelRadio` : ``)\nexport const V_MODEL_CHECKBOX = Symbol(__DEV__ ? `vModelCheckbox` : ``)\nexport const V_MODEL_TEXT = Symbol(__DEV__ ? `vModelText` : ``)\nexport const V_MODEL_SELECT = Symbol(__DEV__ ? `vModelSelect` : ``)\nexport const V_MODEL_DYNAMIC = Symbol(__DEV__ ? `vModelDynamic` : ``)\n\nexport const V_ON_WITH_MODIFIERS = Symbol(__DEV__ ? `vOnModifiersGuard` : ``)\nexport const V_ON_WITH_KEYS = Symbol(__DEV__ ? `vOnKeysGuard` : ``)\n\nexport const V_SHOW = Symbol(__DEV__ ? `vShow` : ``)\n\nexport const TRANSITION = Symbol(__DEV__ ? `Transition` : ``)\nexport const TRANSITION_GROUP = Symbol(__DEV__ ? `TransitionGroup` : ``)\n\nregisterRuntimeHelpers({\n  [V_MODEL_RADIO]: `vModelRadio`,\n  [V_MODEL_CHECKBOX]: `vModelCheckbox`,\n  [V_MODEL_TEXT]: `vModelText`,\n  [V_MODEL_SELECT]: `vModelSelect`,\n  [V_MODEL_DYNAMIC]: `vModelDynamic`,\n  [V_ON_WITH_MODIFIERS]: `withModifiers`,\n  [V_ON_WITH_KEYS]: `withKeys`,\n  [V_SHOW]: `vShow`,\n  [TRANSITION]: `Transition`,\n  [TRANSITION_GROUP]: `TransitionGroup`\n})\n","import { ParserOptions } from '@vue/compiler-core'\nimport namedCharacterReferences from './namedChars.json'\n\n// lazy compute this to make this file tree-shakable for browser\nlet maxCRNameLength: number\n\nexport const decodeHtml: ParserOptions['decodeEntities'] = (\n  rawText,\n  asAttr\n) => {\n  let offset = 0\n  const end = rawText.length\n  let decodedText = ''\n\n  function advance(length: number) {\n    offset += length\n    rawText = rawText.slice(length)\n  }\n\n  while (offset < end) {\n    const head = /&(?:#x?)?/i.exec(rawText)\n    if (!head || offset + head.index >= end) {\n      const remaining = end - offset\n      decodedText += rawText.slice(0, remaining)\n      advance(remaining)\n      break\n    }\n\n    // Advance to the \"&\".\n    decodedText += rawText.slice(0, head.index)\n    advance(head.index)\n\n    if (head[0] === '&') {\n      // Named character reference.\n      let name = ''\n      let value: string | undefined = undefined\n      if (/[0-9a-z]/i.test(rawText[1])) {\n        if (!maxCRNameLength) {\n          maxCRNameLength = Object.keys(namedCharacterReferences).reduce(\n            (max, name) => Math.max(max, name.length),\n            0\n          )\n        }\n        for (let length = maxCRNameLength; !value && length > 0; --length) {\n          name = rawText.slice(1, 1 + length)\n          value = (namedCharacterReferences as Record<string, string>)[name]\n        }\n        if (value) {\n          const semi = name.endsWith(';')\n          if (\n            asAttr &&\n            !semi &&\n            /[=a-z0-9]/i.test(rawText[name.length + 1] || '')\n          ) {\n            decodedText += '&' + name\n            advance(1 + name.length)\n          } else {\n            decodedText += value\n            advance(1 + name.length)\n          }\n        } else {\n          decodedText += '&' + name\n          advance(1 + name.length)\n        }\n      } else {\n        decodedText += '&'\n        advance(1)\n      }\n    } else {\n      // Numeric character reference.\n      const hex = head[0] === '&#x'\n      const pattern = hex ? /^&#x([0-9a-f]+);?/i : /^&#([0-9]+);?/\n      const body = pattern.exec(rawText)\n      if (!body) {\n        decodedText += head[0]\n        advance(head[0].length)\n      } else {\n        // https://html.spec.whatwg.org/multipage/parsing.html#numeric-character-reference-end-state\n        let cp = Number.parseInt(body[1], hex ? 16 : 10)\n        if (cp === 0) {\n          cp = 0xfffd\n        } else if (cp > 0x10ffff) {\n          cp = 0xfffd\n        } else if (cp >= 0xd800 && cp <= 0xdfff) {\n          cp = 0xfffd\n        } else if ((cp >= 0xfdd0 && cp <= 0xfdef) || (cp & 0xfffe) === 0xfffe) {\n          // noop\n        } else if (\n          (cp >= 0x01 && cp <= 0x08) ||\n          cp === 0x0b ||\n          (cp >= 0x0d && cp <= 0x1f) ||\n          (cp >= 0x7f && cp <= 0x9f)\n        ) {\n          cp = CCR_REPLACEMENTS[cp] || cp\n        }\n        decodedText += String.fromCodePoint(cp)\n        advance(body[0].length)\n      }\n    }\n  }\n  return decodedText\n}\n\n// https://html.spec.whatwg.org/multipage/parsing.html#numeric-character-reference-end-state\nconst CCR_REPLACEMENTS: Record<number, number | undefined> = {\n  0x80: 0x20ac,\n  0x82: 0x201a,\n  0x83: 0x0192,\n  0x84: 0x201e,\n  0x85: 0x2026,\n  0x86: 0x2020,\n  0x87: 0x2021,\n  0x88: 0x02c6,\n  0x89: 0x2030,\n  0x8a: 0x0160,\n  0x8b: 0x2039,\n  0x8c: 0x0152,\n  0x8e: 0x017d,\n  0x91: 0x2018,\n  0x92: 0x2019,\n  0x93: 0x201c,\n  0x94: 0x201d,\n  0x95: 0x2022,\n  0x96: 0x2013,\n  0x97: 0x2014,\n  0x98: 0x02dc,\n  0x99: 0x2122,\n  0x9a: 0x0161,\n  0x9b: 0x203a,\n  0x9c: 0x0153,\n  0x9e: 0x017e,\n  0x9f: 0x0178\n}\n","import {\n  TextModes,\n  ParserOptions,\n  ElementNode,\n  Namespaces,\n  NodeTypes,\n  isBuiltInType\n} from '@vue/compiler-core'\nimport { makeMap, isVoidTag, isHTMLTag, isSVGTag } from '@vue/shared'\nimport { TRANSITION, TRANSITION_GROUP } from './runtimeHelpers'\nimport { decodeHtml } from './decodeHtml'\nimport { decodeHtmlBrowser } from './decodeHtmlBrowser'\n\nconst isRawTextContainer = /*#__PURE__*/ makeMap(\n  'style,iframe,script,noscript',\n  true\n)\n\nexport const enum DOMNamespaces {\n  HTML = Namespaces.HTML,\n  SVG,\n  MATH_ML\n}\n\nexport const parserOptions: ParserOptions = {\n  isVoidTag,\n  isNativeTag: tag => isHTMLTag(tag) || isSVGTag(tag),\n  isPreTag: tag => tag === 'pre',\n  decodeEntities: __BROWSER__ ? decodeHtmlBrowser : decodeHtml,\n\n  isBuiltInComponent: (tag: string): symbol | undefined => {\n    if (isBuiltInType(tag, `Transition`)) {\n      return TRANSITION\n    } else if (isBuiltInType(tag, `TransitionGroup`)) {\n      return TRANSITION_GROUP\n    }\n  },\n\n  // https://html.spec.whatwg.org/multipage/parsing.html#tree-construction-dispatcher\n  getNamespace(tag: string, parent: ElementNode | undefined): DOMNamespaces {\n    let ns = parent ? parent.ns : DOMNamespaces.HTML\n\n    if (parent && ns === DOMNamespaces.MATH_ML) {\n      if (parent.tag === 'annotation-xml') {\n        if (tag === 'svg') {\n          return DOMNamespaces.SVG\n        }\n        if (\n          parent.props.some(\n            a =>\n              a.type === NodeTypes.ATTRIBUTE &&\n              a.name === 'encoding' &&\n              a.value != null &&\n              (a.value.content === 'text/html' ||\n                a.value.content === 'application/xhtml+xml')\n          )\n        ) {\n          ns = DOMNamespaces.HTML\n        }\n      } else if (\n        /^m(?:[ions]|text)$/.test(parent.tag) &&\n        tag !== 'mglyph' &&\n        tag !== 'malignmark'\n      ) {\n        ns = DOMNamespaces.HTML\n      }\n    } else if (parent && ns === DOMNamespaces.SVG) {\n      if (\n        parent.tag === 'foreignObject' ||\n        parent.tag === 'desc' ||\n        parent.tag === 'title'\n      ) {\n        ns = DOMNamespaces.HTML\n      }\n    }\n\n    if (ns === DOMNamespaces.HTML) {\n      if (tag === 'svg') {\n        return DOMNamespaces.SVG\n      }\n      if (tag === 'math') {\n        return DOMNamespaces.MATH_ML\n      }\n    }\n    return ns\n  },\n\n  // https://html.spec.whatwg.org/multipage/parsing.html#parsing-html-fragments\n  getTextMode({ tag, ns }: ElementNode): TextModes {\n    if (ns === DOMNamespaces.HTML) {\n      if (tag === 'textarea' || tag === 'title') {\n        return TextModes.RCDATA\n      }\n      if (isRawTextContainer(tag)) {\n        return TextModes.RAWTEXT\n      }\n    }\n    return TextModes.DATA\n  }\n}\n","import {\n  NodeTransform,\n  NodeTypes,\n  createSimpleExpression,\n  SimpleExpressionNode,\n  SourceLocation,\n  ConstantTypes\n} from '@vue/compiler-core'\nimport { parseStringStyle } from '@vue/shared'\n\n// Parse inline CSS strings for static style attributes into an object.\n// This is a NodeTransform since it works on the static `style` attribute and\n// converts it into a dynamic equivalent:\n// style=\"color: red\" -> :style='{ \"color\": \"red\" }'\n// It is then processed by `transformElement` and included in the generated\n// props.\nexport const transformStyle: NodeTransform = node => {\n  if (node.type === NodeTypes.ELEMENT) {\n    node.props.forEach((p, i) => {\n      if (p.type === NodeTypes.ATTRIBUTE && p.name === 'style' && p.value) {\n        // replace p with an expression node\n        node.props[i] = {\n          type: NodeTypes.DIRECTIVE,\n          name: `bind`,\n          arg: createSimpleExpression(`style`, true, p.loc),\n          exp: parseInlineCSS(p.value.content, p.loc),\n          modifiers: [],\n          loc: p.loc\n        }\n      }\n    })\n  }\n}\n\nconst parseInlineCSS = (\n  cssText: string,\n  loc: SourceLocation\n): SimpleExpressionNode => {\n  const normalized = parseStringStyle(cssText)\n  return createSimpleExpression(\n    JSON.stringify(normalized),\n    false,\n    loc,\n    ConstantTypes.CAN_STRINGIFY\n  )\n}\n","import {\n  SourceLocation,\n  CompilerError,\n  createCompilerError,\n  ErrorCodes\n} from '@vue/compiler-core'\n\nexport interface DOMCompilerError extends CompilerError {\n  code: DOMErrorCodes\n}\n\nexport function createDOMCompilerError(\n  code: DOMErrorCodes,\n  loc?: SourceLocation\n) {\n  return createCompilerError(\n    code,\n    loc,\n    __DEV__ || !__BROWSER__ ? DOMErrorMessages : undefined\n  ) as DOMCompilerError\n}\n\nexport const enum DOMErrorCodes {\n  X_V_HTML_NO_EXPRESSION = ErrorCodes.__EXTEND_POINT__,\n  X_V_HTML_WITH_CHILDREN,\n  X_V_TEXT_NO_EXPRESSION,\n  X_V_TEXT_WITH_CHILDREN,\n  X_V_MODEL_ON_INVALID_ELEMENT,\n  X_V_MODEL_ARG_ON_ELEMENT,\n  X_V_MODEL_ON_FILE_INPUT_ELEMENT,\n  X_V_MODEL_UNNECESSARY_VALUE,\n  X_V_SHOW_NO_EXPRESSION,\n  X_TRANSITION_INVALID_CHILDREN,\n  X_IGNORED_SIDE_EFFECT_TAG,\n  __EXTEND_POINT__\n}\n\nexport const DOMErrorMessages: { [code: number]: string } = {\n  [DOMErrorCodes.X_V_HTML_NO_EXPRESSION]: `v-html is missing expression.`,\n  [DOMErrorCodes.X_V_HTML_WITH_CHILDREN]: `v-html will override element children.`,\n  [DOMErrorCodes.X_V_TEXT_NO_EXPRESSION]: `v-text is missing expression.`,\n  [DOMErrorCodes.X_V_TEXT_WITH_CHILDREN]: `v-text will override element children.`,\n  [DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT]: `v-model can only be used on <input>, <textarea> and <select> elements.`,\n  [DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT]: `v-model argument is not supported on plain elements.`,\n  [DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT]: `v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.`,\n  [DOMErrorCodes.X_V_MODEL_UNNECESSARY_VALUE]: `Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.`,\n  [DOMErrorCodes.X_V_SHOW_NO_EXPRESSION]: `v-show is missing expression.`,\n  [DOMErrorCodes.X_TRANSITION_INVALID_CHILDREN]: `<Transition> expects exactly one child element or component.`,\n  [DOMErrorCodes.X_IGNORED_SIDE_EFFECT_TAG]: `Tags with side effect (<script> and <style>) are ignored in client component templates.`\n}\n","import {\n  DirectiveTransform,\n  createObjectProperty,\n  createSimpleExpression\n} from '@vue/compiler-core'\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\n\nexport const transformVHtml: DirectiveTransform = (dir, node, context) => {\n  const { exp, loc } = dir\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_NO_EXPRESSION, loc)\n    )\n  }\n  if (node.children.length) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_WITH_CHILDREN, loc)\n    )\n    node.children.length = 0\n  }\n  return {\n    props: [\n      createObjectProperty(\n        createSimpleExpression(`innerHTML`, true, loc),\n        exp || createSimpleExpression('', true)\n      )\n    ]\n  }\n}\n","import {\n  DirectiveTransform,\n  createObjectProperty,\n  createSimpleExpression,\n  TO_DISPLAY_STRING,\n  createCallExpression,\n  getConstantType\n} from '@vue/compiler-core'\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\n\nexport const transformVText: DirectiveTransform = (dir, node, context) => {\n  const { exp, loc } = dir\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_NO_EXPRESSION, loc)\n    )\n  }\n  if (node.children.length) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_WITH_CHILDREN, loc)\n    )\n    node.children.length = 0\n  }\n  return {\n    props: [\n      createObjectProperty(\n        createSimpleExpression(`textContent`, true),\n        exp\n          ? getConstantType(exp, context) > 0\n            ? exp\n            : createCallExpression(\n                context.helperString(TO_DISPLAY_STRING),\n                [exp],\n                loc\n              )\n          : createSimpleExpression('', true)\n      )\n    ]\n  }\n}\n","import {\n  transformModel as baseTransform,\n  DirectiveTransform,\n  ElementTypes,\n  findProp,\n  NodeTypes,\n  hasDynamicKeyVBind\n} from '@vue/compiler-core'\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\nimport {\n  V_MODEL_CHECKBOX,\n  V_MODEL_RADIO,\n  V_MODEL_SELECT,\n  V_MODEL_TEXT,\n  V_MODEL_DYNAMIC\n} from '../runtimeHelpers'\n\nexport const transformModel: DirectiveTransform = (dir, node, context) => {\n  const baseResult = baseTransform(dir, node, context)\n  // base transform has errors OR component v-model (only need props)\n  if (!baseResult.props.length || node.tagType === ElementTypes.COMPONENT) {\n    return baseResult\n  }\n\n  if (dir.arg) {\n    context.onError(\n      createDOMCompilerError(\n        DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT,\n        dir.arg.loc\n      )\n    )\n  }\n\n  function checkDuplicatedValue() {\n    const value = findProp(node, 'value')\n    if (value) {\n      context.onError(\n        createDOMCompilerError(\n          DOMErrorCodes.X_V_MODEL_UNNECESSARY_VALUE,\n          value.loc\n        )\n      )\n    }\n  }\n\n  const { tag } = node\n  const isCustomElement = context.isCustomElement(tag)\n  if (\n    tag === 'input' ||\n    tag === 'textarea' ||\n    tag === 'select' ||\n    isCustomElement\n  ) {\n    let directiveToUse = V_MODEL_TEXT\n    let isInvalidType = false\n    if (tag === 'input' || isCustomElement) {\n      const type = findProp(node, `type`)\n      if (type) {\n        if (type.type === NodeTypes.DIRECTIVE) {\n          // :type=\"foo\"\n          directiveToUse = V_MODEL_DYNAMIC\n        } else if (type.value) {\n          switch (type.value.content) {\n            case 'radio':\n              directiveToUse = V_MODEL_RADIO\n              break\n            case 'checkbox':\n              directiveToUse = V_MODEL_CHECKBOX\n              break\n            case 'file':\n              isInvalidType = true\n              context.onError(\n                createDOMCompilerError(\n                  DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT,\n                  dir.loc\n                )\n              )\n              break\n            default:\n              // text type\n              __DEV__ && checkDuplicatedValue()\n              break\n          }\n        }\n      } else if (hasDynamicKeyVBind(node)) {\n        // element has bindings with dynamic keys, which can possibly contain\n        // \"type\".\n        directiveToUse = V_MODEL_DYNAMIC\n      } else {\n        // text type\n        __DEV__ && checkDuplicatedValue()\n      }\n    } else if (tag === 'select') {\n      directiveToUse = V_MODEL_SELECT\n    } else {\n      // textarea\n      __DEV__ && checkDuplicatedValue()\n    }\n    // inject runtime directive\n    // by returning the helper symbol via needRuntime\n    // the import will replaced a resolveDirective call.\n    if (!isInvalidType) {\n      baseResult.needRuntime = context.helper(directiveToUse)\n    }\n  } else {\n    context.onError(\n      createDOMCompilerError(\n        DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT,\n        dir.loc\n      )\n    )\n  }\n\n  // native vmodel doesn't need the `modelValue` props since they are also\n  // passed to the runtime as `binding.value`. removing it reduces code size.\n  baseResult.props = baseResult.props.filter(\n    p =>\n      !(\n        p.key.type === NodeTypes.SIMPLE_EXPRESSION &&\n        p.key.content === 'modelValue'\n      )\n  )\n\n  return baseResult\n}\n","import {\n  transformOn as baseTransform,\n  DirectiveTransform,\n  createObjectProperty,\n  createCallExpression,\n  createSimpleExpression,\n  NodeTypes,\n  createCompoundExpression,\n  ExpressionNode,\n  SimpleExpressionNode,\n  isStaticExp,\n  CompilerDeprecationTypes,\n  TransformContext,\n  SourceLocation,\n  checkCompatEnabled\n} from '@vue/compiler-core'\nimport { V_ON_WITH_MODIFIERS, V_ON_WITH_KEYS } from '../runtimeHelpers'\nimport { makeMap, capitalize } from '@vue/shared'\n\nconst isEventOptionModifier = /*#__PURE__*/ makeMap(`passive,once,capture`)\nconst isNonKeyModifier = /*#__PURE__*/ makeMap(\n  // event propagation management\n  `stop,prevent,self,` +\n    // system modifiers + exact\n    `ctrl,shift,alt,meta,exact,` +\n    // mouse\n    `middle`\n)\n// left & right could be mouse or key modifiers based on event type\nconst maybeKeyModifier = /*#__PURE__*/ makeMap('left,right')\nconst isKeyboardEvent = /*#__PURE__*/ makeMap(\n  `onkeyup,onkeydown,onkeypress`,\n  true\n)\n\nconst resolveModifiers = (\n  key: ExpressionNode,\n  modifiers: string[],\n  context: TransformContext,\n  loc: SourceLocation\n) => {\n  const keyModifiers = []\n  const nonKeyModifiers = []\n  const eventOptionModifiers = []\n\n  for (let i = 0; i < modifiers.length; i++) {\n    const modifier = modifiers[i]\n\n    if (\n      __COMPAT__ &&\n      modifier === 'native' &&\n      checkCompatEnabled(\n        CompilerDeprecationTypes.COMPILER_V_ON_NATIVE,\n        context,\n        loc\n      )\n    ) {\n      eventOptionModifiers.push(modifier)\n    } else if (isEventOptionModifier(modifier)) {\n      // eventOptionModifiers: modifiers for addEventListener() options,\n      // e.g. .passive & .capture\n      eventOptionModifiers.push(modifier)\n    } else {\n      // runtimeModifiers: modifiers that needs runtime guards\n      if (maybeKeyModifier(modifier)) {\n        if (isStaticExp(key)) {\n          if (isKeyboardEvent((key as SimpleExpressionNode).content)) {\n            keyModifiers.push(modifier)\n          } else {\n            nonKeyModifiers.push(modifier)\n          }\n        } else {\n          keyModifiers.push(modifier)\n          nonKeyModifiers.push(modifier)\n        }\n      } else {\n        if (isNonKeyModifier(modifier)) {\n          nonKeyModifiers.push(modifier)\n        } else {\n          keyModifiers.push(modifier)\n        }\n      }\n    }\n  }\n\n  return {\n    keyModifiers,\n    nonKeyModifiers,\n    eventOptionModifiers\n  }\n}\n\nconst transformClick = (key: ExpressionNode, event: string) => {\n  const isStaticClick =\n    isStaticExp(key) && key.content.toLowerCase() === 'onclick'\n  return isStaticClick\n    ? createSimpleExpression(event, true)\n    : key.type !== NodeTypes.SIMPLE_EXPRESSION\n    ? createCompoundExpression([\n        `(`,\n        key,\n        `) === \"onClick\" ? \"${event}\" : (`,\n        key,\n        `)`\n      ])\n    : key\n}\n\nexport const transformOn: DirectiveTransform = (dir, node, context) => {\n  return baseTransform(dir, node, context, baseResult => {\n    const { modifiers } = dir\n    if (!modifiers.length) return baseResult\n\n    let { key, value: handlerExp } = baseResult.props[0]\n    const { keyModifiers, nonKeyModifiers, eventOptionModifiers } =\n      resolveModifiers(key, modifiers, context, dir.loc)\n\n    // normalize click.right and click.middle since they don't actually fire\n    if (nonKeyModifiers.includes('right')) {\n      key = transformClick(key, `onContextmenu`)\n    }\n    if (nonKeyModifiers.includes('middle')) {\n      key = transformClick(key, `onMouseup`)\n    }\n\n    if (nonKeyModifiers.length) {\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_MODIFIERS), [\n        handlerExp,\n        JSON.stringify(nonKeyModifiers)\n      ])\n    }\n\n    if (\n      keyModifiers.length &&\n      // if event name is dynamic, always wrap with keys guard\n      (!isStaticExp(key) || isKeyboardEvent(key.content))\n    ) {\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_KEYS), [\n        handlerExp,\n        JSON.stringify(keyModifiers)\n      ])\n    }\n\n    if (eventOptionModifiers.length) {\n      const modifierPostfix = eventOptionModifiers.map(capitalize).join('')\n      key = isStaticExp(key)\n        ? createSimpleExpression(`${key.content}${modifierPostfix}`, true)\n        : createCompoundExpression([`(`, key, `) + \"${modifierPostfix}\"`])\n    }\n\n    return {\n      props: [createObjectProperty(key, handlerExp)]\n    }\n  })\n}\n","import { DirectiveTransform } from '@vue/compiler-core'\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\nimport { V_SHOW } from '../runtimeHelpers'\n\nexport const transformShow: DirectiveTransform = (dir, node, context) => {\n  const { exp, loc } = dir\n  if (!exp) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_V_SHOW_NO_EXPRESSION, loc)\n    )\n  }\n\n  return {\n    props: [],\n    needRuntime: context.helper(V_SHOW)\n  }\n}\n","/**\n * This module is Node-only.\n */\nimport {\n  NodeTypes,\n  ElementNode,\n  TransformContext,\n  TemplateChildNode,\n  SimpleExpressionNode,\n  createCallExpression,\n  HoistTransform,\n  CREATE_STATIC,\n  ExpressionNode,\n  ElementTypes,\n  PlainElementNode,\n  JSChildNode,\n  TextCallNode,\n  ConstantTypes\n} from '@vue/compiler-core'\nimport {\n  isVoidTag,\n  isString,\n  isSymbol,\n  isKnownHtmlAttr,\n  escapeHtml,\n  toDisplayString,\n  normalizeClass,\n  normalizeStyle,\n  stringifyStyle,\n  makeMap,\n  isKnownSvgAttr\n} from '@vue/shared'\nimport { DOMNamespaces } from '../parserOptions'\n\nexport const enum StringifyThresholds {\n  ELEMENT_WITH_BINDING_COUNT = 5,\n  NODE_COUNT = 20\n}\n\ntype StringifiableNode = PlainElementNode | TextCallNode\n\n/**\n * Regex for replacing placeholders for embedded constant variables\n * (e.g. import URL string constants generated by compiler-sfc)\n */\nconst expReplaceRE = /__VUE_EXP_START__(.*?)__VUE_EXP_END__/g\n\n/**\n * Turn eligible hoisted static trees into stringified static nodes, e.g.\n *\n * ```js\n * const _hoisted_1 = createStaticVNode(`<div class=\"foo\">bar</div>`)\n * ```\n *\n * A single static vnode can contain stringified content for **multiple**\n * consecutive nodes (element and plain text), called a \"chunk\".\n * `@vue/runtime-dom` will create the content via innerHTML in a hidden\n * container element and insert all the nodes in place. The call must also\n * provide the number of nodes contained in the chunk so that during hydration\n * we can know how many nodes the static vnode should adopt.\n *\n * The optimization scans a children list that contains hoisted nodes, and\n * tries to find the largest chunk of consecutive hoisted nodes before running\n * into a non-hoisted node or the end of the list. A chunk is then converted\n * into a single static vnode and replaces the hoisted expression of the first\n * node in the chunk. Other nodes in the chunk are considered \"merged\" and\n * therefore removed from both the hoist list and the children array.\n *\n * This optimization is only performed in Node.js.\n */\nexport const stringifyStatic: HoistTransform = (children, context, parent) => {\n  // bail stringification for slot content\n  if (context.scopes.vSlot > 0) {\n    return\n  }\n\n  let nc = 0 // current node count\n  let ec = 0 // current element with binding count\n  const currentChunk: StringifiableNode[] = []\n\n  const stringifyCurrentChunk = (currentIndex: number): number => {\n    if (\n      nc >= StringifyThresholds.NODE_COUNT ||\n      ec >= StringifyThresholds.ELEMENT_WITH_BINDING_COUNT\n    ) {\n      // combine all currently eligible nodes into a single static vnode call\n      const staticCall = createCallExpression(context.helper(CREATE_STATIC), [\n        JSON.stringify(\n          currentChunk.map(node => stringifyNode(node, context)).join('')\n        ).replace(expReplaceRE, `\" + $1 + \"`),\n        // the 2nd argument indicates the number of DOM nodes this static vnode\n        // will insert / hydrate\n        String(currentChunk.length)\n      ])\n      // replace the first node's hoisted expression with the static vnode call\n      replaceHoist(currentChunk[0], staticCall, context)\n\n      if (currentChunk.length > 1) {\n        for (let i = 1; i < currentChunk.length; i++) {\n          // for the merged nodes, set their hoisted expression to null\n          replaceHoist(currentChunk[i], null, context)\n        }\n\n        // also remove merged nodes from children\n        const deleteCount = currentChunk.length - 1\n        children.splice(currentIndex - currentChunk.length + 1, deleteCount)\n        return deleteCount\n      }\n    }\n    return 0\n  }\n\n  let i = 0\n  for (; i < children.length; i++) {\n    const child = children[i]\n    const hoisted = getHoistedNode(child)\n    if (hoisted) {\n      // presence of hoisted means child must be a stringifiable node\n      const node = child as StringifiableNode\n      const result = analyzeNode(node)\n      if (result) {\n        // node is stringifiable, record state\n        nc += result[0]\n        ec += result[1]\n        currentChunk.push(node)\n        continue\n      }\n    }\n    // we only reach here if we ran into a node that is not stringifiable\n    // check if currently analyzed nodes meet criteria for stringification.\n    // adjust iteration index\n    i -= stringifyCurrentChunk(i)\n    // reset state\n    nc = 0\n    ec = 0\n    currentChunk.length = 0\n  }\n  // in case the last node was also stringifiable\n  stringifyCurrentChunk(i)\n}\n\nconst getHoistedNode = (node: TemplateChildNode) =>\n  ((node.type === NodeTypes.ELEMENT && node.tagType === ElementTypes.ELEMENT) ||\n    node.type == NodeTypes.TEXT_CALL) &&\n  node.codegenNode &&\n  node.codegenNode.type === NodeTypes.SIMPLE_EXPRESSION &&\n  node.codegenNode.hoisted\n\nconst dataAriaRE = /^(data|aria)-/\nconst isStringifiableAttr = (name: string, ns: DOMNamespaces) => {\n  return (\n    (ns === DOMNamespaces.HTML\n      ? isKnownHtmlAttr(name)\n      : ns === DOMNamespaces.SVG\n      ? isKnownSvgAttr(name)\n      : false) || dataAriaRE.test(name)\n  )\n}\n\nconst replaceHoist = (\n  node: StringifiableNode,\n  replacement: JSChildNode | null,\n  context: TransformContext\n) => {\n  const hoistToReplace = (node.codegenNode as SimpleExpressionNode).hoisted!\n  context.hoists[context.hoists.indexOf(hoistToReplace)] = replacement\n}\n\nconst isNonStringifiable = /*#__PURE__*/ makeMap(\n  `caption,thead,tr,th,tbody,td,tfoot,colgroup,col`\n)\n\n/**\n * for a hoisted node, analyze it and return:\n * - false: bailed (contains non-stringifiable props or runtime constant)\n * - [nc, ec] where\n *   - nc is the number of nodes inside\n *   - ec is the number of element with bindings inside\n */\nfunction analyzeNode(node: StringifiableNode): [number, number] | false {\n  if (node.type === NodeTypes.ELEMENT && isNonStringifiable(node.tag)) {\n    return false\n  }\n\n  if (node.type === NodeTypes.TEXT_CALL) {\n    return [1, 0]\n  }\n\n  let nc = 1 // node count\n  let ec = node.props.length > 0 ? 1 : 0 // element w/ binding count\n  let bailed = false\n  const bail = (): false => {\n    bailed = true\n    return false\n  }\n\n  // TODO: check for cases where using innerHTML will result in different\n  // output compared to imperative node insertions.\n  // probably only need to check for most common case\n  // i.e. non-phrasing-content tags inside `<p>`\n  function walk(node: ElementNode): boolean {\n    for (let i = 0; i < node.props.length; i++) {\n      const p = node.props[i]\n      // bail on non-attr bindings\n      if (\n        p.type === NodeTypes.ATTRIBUTE &&\n        !isStringifiableAttr(p.name, node.ns)\n      ) {\n        return bail()\n      }\n      if (p.type === NodeTypes.DIRECTIVE && p.name === 'bind') {\n        // bail on non-attr bindings\n        if (\n          p.arg &&\n          (p.arg.type === NodeTypes.COMPOUND_EXPRESSION ||\n            (p.arg.isStatic && !isStringifiableAttr(p.arg.content, node.ns)))\n        ) {\n          return bail()\n        }\n        if (\n          p.exp &&\n          (p.exp.type === NodeTypes.COMPOUND_EXPRESSION ||\n            p.exp.constType < ConstantTypes.CAN_STRINGIFY)\n        ) {\n          return bail()\n        }\n      }\n    }\n    for (let i = 0; i < node.children.length; i++) {\n      nc++\n      const child = node.children[i]\n      if (child.type === NodeTypes.ELEMENT) {\n        if (child.props.length > 0) {\n          ec++\n        }\n        walk(child)\n        if (bailed) {\n          return false\n        }\n      }\n    }\n    return true\n  }\n\n  return walk(node) ? [nc, ec] : false\n}\n\nfunction stringifyNode(\n  node: string | TemplateChildNode,\n  context: TransformContext\n): string {\n  if (isString(node)) {\n    return node\n  }\n  if (isSymbol(node)) {\n    return ``\n  }\n  switch (node.type) {\n    case NodeTypes.ELEMENT:\n      return stringifyElement(node, context)\n    case NodeTypes.TEXT:\n      return escapeHtml(node.content)\n    case NodeTypes.COMMENT:\n      return `<!--${escapeHtml(node.content)}-->`\n    case NodeTypes.INTERPOLATION:\n      return escapeHtml(toDisplayString(evaluateConstant(node.content)))\n    case NodeTypes.COMPOUND_EXPRESSION:\n      return escapeHtml(evaluateConstant(node))\n    case NodeTypes.TEXT_CALL:\n      return stringifyNode(node.content, context)\n    default:\n      // static trees will not contain if/for nodes\n      return ''\n  }\n}\n\nfunction stringifyElement(\n  node: ElementNode,\n  context: TransformContext\n): string {\n  let res = `<${node.tag}`\n  let innerHTML = ''\n  for (let i = 0; i < node.props.length; i++) {\n    const p = node.props[i]\n    if (p.type === NodeTypes.ATTRIBUTE) {\n      res += ` ${p.name}`\n      if (p.value) {\n        res += `=\"${escapeHtml(p.value.content)}\"`\n      }\n    } else if (p.type === NodeTypes.DIRECTIVE) {\n      if (p.name === 'bind') {\n        const exp = p.exp as SimpleExpressionNode\n        if (exp.content[0] === '_') {\n          // internally generated string constant references\n          // e.g. imported URL strings via compiler-sfc transformAssetUrl plugin\n          res += ` ${\n            (p.arg as SimpleExpressionNode).content\n          }=\"__VUE_EXP_START__${exp.content}__VUE_EXP_END__\"`\n          continue\n        }\n        // constant v-bind, e.g. :foo=\"1\"\n        let evaluated = evaluateConstant(exp)\n        if (evaluated != null) {\n          const arg = p.arg && (p.arg as SimpleExpressionNode).content\n          if (arg === 'class') {\n            evaluated = normalizeClass(evaluated)\n          } else if (arg === 'style') {\n            evaluated = stringifyStyle(normalizeStyle(evaluated))\n          }\n          res += ` ${(p.arg as SimpleExpressionNode).content}=\"${escapeHtml(\n            evaluated\n          )}\"`\n        }\n      } else if (p.name === 'html') {\n        // #5439 v-html with constant value\n        // not sure why would anyone do this but it can happen\n        innerHTML = evaluateConstant(p.exp as SimpleExpressionNode)\n      } else if (p.name === 'text') {\n        innerHTML = escapeHtml(\n          toDisplayString(evaluateConstant(p.exp as SimpleExpressionNode))\n        )\n      }\n    }\n  }\n  if (context.scopeId) {\n    res += ` ${context.scopeId}`\n  }\n  res += `>`\n  if (innerHTML) {\n    res += innerHTML\n  } else {\n    for (let i = 0; i < node.children.length; i++) {\n      res += stringifyNode(node.children[i], context)\n    }\n  }\n  if (!isVoidTag(node.tag)) {\n    res += `</${node.tag}>`\n  }\n  return res\n}\n\n// __UNSAFE__\n// Reason: eval.\n// It's technically safe to eval because only constant expressions are possible\n// here, e.g. `{{ 1 }}` or `{{ 'foo' }}`\n// in addition, constant exps bail on presence of parens so you can't even\n// run JSFuck in here. But we mark it unsafe for security review purposes.\n// (see compiler-core/src/transforms/transformExpression)\nfunction evaluateConstant(exp: ExpressionNode): string {\n  if (exp.type === NodeTypes.SIMPLE_EXPRESSION) {\n    return new Function(`return ${exp.content}`)()\n  } else {\n    // compound\n    let res = ``\n    exp.children.forEach(c => {\n      if (isString(c) || isSymbol(c)) {\n        return\n      }\n      if (c.type === NodeTypes.TEXT) {\n        res += c.content\n      } else if (c.type === NodeTypes.INTERPOLATION) {\n        res += toDisplayString(evaluateConstant(c.content))\n      } else {\n        res += evaluateConstant(c)\n      }\n    })\n    return res\n  }\n}\n","import { NodeTransform, NodeTypes, ElementTypes } from '@vue/compiler-core'\nimport { DOMErrorCodes, createDOMCompilerError } from '../errors'\n\nexport const ignoreSideEffectTags: NodeTransform = (node, context) => {\n  if (\n    node.type === NodeTypes.ELEMENT &&\n    node.tagType === ElementTypes.ELEMENT &&\n    (node.tag === 'script' || node.tag === 'style')\n  ) {\n    context.onError(\n      createDOMCompilerError(DOMErrorCodes.X_IGNORED_SIDE_EFFECT_TAG, node.loc)\n    )\n    context.removeNode()\n  }\n}\n","import {\n  baseCompile,\n  baseParse,\n  CompilerOptions,\n  CodegenResult,\n  ParserOptions,\n  RootNode,\n  noopDirectiveTransform,\n  NodeTransform,\n  DirectiveTransform\n} from '@vue/compiler-core'\nimport { parserOptions } from './parserOptions'\nimport { transformStyle } from './transforms/transformStyle'\nimport { transformVHtml } from './transforms/vHtml'\nimport { transformVText } from './transforms/vText'\nimport { transformModel } from './transforms/vModel'\nimport { transformOn } from './transforms/vOn'\nimport { transformShow } from './transforms/vShow'\nimport { transformTransition } from './transforms/Transition'\nimport { stringifyStatic } from './transforms/stringifyStatic'\nimport { ignoreSideEffectTags } from './transforms/ignoreSideEffectTags'\nimport { extend } from '@vue/shared'\n\nexport { parserOptions }\n\nexport const DOMNodeTransforms: NodeTransform[] = [\n  transformStyle,\n  ...(__DEV__ ? [transformTransition] : [])\n]\n\nexport const DOMDirectiveTransforms: Record<string, DirectiveTransform> = {\n  cloak: noopDirectiveTransform,\n  html: transformVHtml,\n  text: transformVText,\n  model: transformModel, // override compiler-core\n  on: transformOn, // override compiler-core\n  show: transformShow\n}\n\nexport function compile(\n  template: string,\n  options: CompilerOptions = {}\n): CodegenResult {\n  return baseCompile(\n    template,\n    extend({}, parserOptions, options, {\n      nodeTransforms: [\n        // ignore <script> and <tag>\n        // this is not put inside DOMNodeTransforms because that list is used\n        // by compiler-ssr to generate vnode fallback branches\n        ignoreSideEffectTags,\n        ...DOMNodeTransforms,\n        ...(options.nodeTransforms || [])\n      ],\n      directiveTransforms: extend(\n        {},\n        DOMDirectiveTransforms,\n        options.directiveTransforms || {}\n      ),\n      transformHoist: __BROWSER__ ? null : stringifyStatic\n    })\n  )\n}\n\nexport function parse(template: string, options: ParserOptions = {}): RootNode {\n  return baseParse(template, extend({}, parserOptions, options))\n}\n\nexport * from './runtimeHelpers'\nexport { transformStyle } from './transforms/transformStyle'\nexport { createDOMCompilerError, DOMErrorCodes } from './errors'\nexport * from '@vue/compiler-core'\n"],"names":["registerRuntimeHelpers","makeMap","isVoidTag","isHTMLTag","isSVGTag","isBuiltInType","createSimpleExpression","parseStringStyle","createCompilerError","createObjectProperty","getConstantType","createCallExpression","TO_DISPLAY_STRING","baseTransform","findProp","hasDynamicKeyVBind","checkCompatEnabled","isStaticExp","createCompoundExpression","capitalize","CREATE_STATIC","isKnownHtmlAttr","isKnownSvgAttr","isString","isSymbol","escapeHtml","toDisplayString","normalizeClass","stringifyStyle","normalizeStyle","noopDirectiveTransform","baseCompile","extend","baseParse"],"mappings":";;;;;;;MAEa,aAAa,GAAG,MAAM,CAA2B,EAAE,EAAC;MACpD,gBAAgB,GAAG,MAAM,CAA8B,EAAE,EAAC;MAC1D,YAAY,GAAG,MAAM,CAA0B,EAAE,EAAC;MAClD,cAAc,GAAG,MAAM,CAA4B,EAAE,EAAC;MACtD,eAAe,GAAG,MAAM,CAA6B,EAAE,EAAC;MAExD,mBAAmB,GAAG,MAAM,CAAiC,EAAE,EAAC;MAChE,cAAc,GAAG,MAAM,CAA4B,EAAE,EAAC;MAEtD,MAAM,GAAG,MAAM,CAAqB,EAAE,EAAC;MAEvC,UAAU,GAAG,MAAM,CAA0B,EAAE,EAAC;MAChD,gBAAgB,GAAG,MAAM,CAA+B,EAAE,EAAC;AAExEA,mCAAsB,CAAC;IACrB,CAAC,aAAa,GAAG,aAAa;IAC9B,CAAC,gBAAgB,GAAG,gBAAgB;IACpC,CAAC,YAAY,GAAG,YAAY;IAC5B,CAAC,cAAc,GAAG,cAAc;IAChC,CAAC,eAAe,GAAG,eAAe;IAClC,CAAC,mBAAmB,GAAG,eAAe;IACtC,CAAC,cAAc,GAAG,UAAU;IAC5B,CAAC,MAAM,GAAG,OAAO;IACjB,CAAC,UAAU,GAAG,YAAY;IAC1B,CAAC,gBAAgB,GAAG,iBAAiB;CACtC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}